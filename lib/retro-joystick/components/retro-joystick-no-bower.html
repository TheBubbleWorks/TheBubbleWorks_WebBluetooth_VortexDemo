<link rel="import" href="../bower_components/polymer/polymer.html">

<polymer-element name="retro-joystick">

  <template>

    <link rel="stylesheet" href="../styles/retro-joystick.css?4">

    <div class="retrostick">
    <div class="retrostick-base">

      <div class="retrostick-base-joint">
          <div><div></div></div>
      </div>

      <span class="retrostick-dir-note retrostick-dir-forward-left">left</span>
      <span class="retrostick-dir-note retrostick-dir-forward">forward</span>
      <span class="retrostick-dir-note retrostick-dir-forward-right">right</span>

      <div class="retrostick-stick-wrap">
        <div class="retrostick-stick"></div>
      </div>

      <div class="retrostick-ball"></div>

      <span class="retrostick-dir-note retrostick-dir-backward-left">left</span>
      <span class="retrostick-dir-note retrostick-dir-backward">backward</span>
      <span class="retrostick-dir-note retrostick-dir-backward-right">right</span>

    </div>

  </template>

  <script src="../bower_components/jquery/dist/jquery.js?s"></script>
  <script src="../scripts/jquery.monkeypatch.webcomponents.js?s"></script>
  <script src="../scripts/retro-joystick.js?x"></script>
  <script>

    Polymer({
      ready: function() {
        var root = this.shadowRoot;
        var events = {};

        var stick = new RetroJoyStick({
          retroStickElement: root.getElementsByClassName('retrostick')[0]
        });

        this.on = function (eventName, callback) {
          stick.on.apply(stick, [].slice.call(arguments));
        };

      }
    });

  </script>

</polymer-element>
